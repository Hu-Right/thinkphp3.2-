<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>我的团队</title>
    <link rel="shortcut icon" href="favicon.ico"> <link href="/Public/Index/css/bootstrap.min.css?v=3.3.6" rel="stylesheet">
    <link href="/Public/Index/css/font-awesome.min.css" rel="stylesheet">
    <link href="/Public/Index/css/plugins/iCheck/custom.css" rel="stylesheet">
    <link href="/Public/Index/css/animate.min.css" rel="stylesheet">
    <link href="/Public/Index/css/style.min.css" rel="stylesheet">
    <style class="csscreations">
/*Now the CSS*/
* {margin: 0; padding: 0;}
 
.tree ul {
    padding-top: 20px;
    position: relative;
    transition: all 0.5s;
    -webkit-transition: all 0.5s;
    -moz-transition: all 0.5s;
}
  
.tree li {
    float: left; text-align: center;
    list-style-type: none;
    position: relative;
    padding: 20px 5px 0 5px;
     
    transition: all 0.5s;
    -webkit-transition: all 0.5s;
    -moz-transition: all 0.5s;
}
 
/*We will use ::before and ::after to draw the connectors*/
 
.tree li::before, .tree li::after{
    content: '';
    position: absolute; top: 0; right: 50%;
    border-top: 1px solid #ccc;
    width: 50%; height: 20px;
}
.tree li::after{
    right: auto; left: 50%;
    border-left: 1px solid #ccc;
}
 
/*We need to remove left-right connectors from elements without 
any siblings*/
.tree li:only-child::after, .tree li:only-child::before {
    display: none;
}
 
/*Remove space from the top of single children*/
.tree li:only-child{ padding-top: 0;}
 
/*Remove left connector from first child and 
right connector from last child*/
.tree li:first-child::before, .tree li:last-child::after{
    border: 0 none;
}
/*Adding back the vertical connector to the last nodes*/
.tree li:last-child::before{
    border-right: 1px solid #ccc;
    border-radius: 0 5px 0 0;
    -webkit-border-radius: 0 5px 0 0;
    -moz-border-radius: 0 5px 0 0;
}
.tree li:first-child::after{
    border-radius: 5px 0 0 0;
    -webkit-border-radius: 5px 0 0 0;
    -moz-border-radius: 5px 0 0 0;
}
 
/*Time to add downward connectors from parents*/
.tree ul ul::before{
    content: '';
    position: absolute; top: 0; left: 50%;
    border-left: 1px solid #ccc;
    width: 0; height: 20px;
}
 
.tree li a{
    border: 1px solid #ccc;
    padding: 5px 10px;
    text-decoration: none;
    color: #666;
    font-family: arial, verdana, tahoma;
    font-size: 11px;
    display: inline-block;
     
    border-radius: 5px;
    -webkit-border-radius: 5px;
    -moz-border-radius: 5px;
     
    transition: all 0.5s;
    -webkit-transition: all 0.5s;
    -moz-transition: all 0.5s;
}
 
/*Time for some hover effects*/
/*We will apply the hover effect the the lineage of the element also*/
.tree li a:hover, .tree li a:hover+ul li a {
    background: #c8e4f8; color: #000; border: 1px solid #94a0b4;
}
/*Connector styles on hover*/
.tree li a:hover+ul li::after, 
.tree li a:hover+ul li::before, 
.tree li a:hover+ul::before, 
.tree li a:hover+ul ul::before{
    border-color:  #94a0b4;
}
 
/*Thats all. I hope you enjoyed it.
Thanks :)*/
.homt{
    
    width: 150px;
    background: #F5EFEF;
    height: 100px;
    border: 1px #EFABAB solid;
    border-radius: 5px;
    color: #666;
    font-family: arial, verdana, tahoma;
     font-size: 13px;
     cursor:pointer;
}
.hometname{
    border-bottom: 1px #EFABAB solid;
    height: 23px;
    line-height: 23px;
   
}
.homettm{
    border-right: 1px #EFABAB solid;
    border-bottom: 1px #EFABAB solid;
    width: 50%;
    float: left;
     height: 23px;
   line-height: 23px;
}
.homettms{
    width: 49%;
     border-bottom: 1px #EFABAB solid;
    float: right;
     height: 23px;
    line-height: 23px;
}
.ahomettm{
    
    width: 100%;
    float: left;
    height: 28px;
   line-height:  28px;
}
.ahomettms{
    width: 49%;
    float: right;
    height: 28px;
    line-height: 28px;
}

</style>

</head>

<body class="gray-bg">
    <div class="wrapper wrapper-content animated fadeInRight">
        <div class="row">
            <div class="col-sm-12">
                <div class="ibox float-e-margins">
                    <div class="ibox-title">
                        <h5><a style="color:#00bb9c;margin-right:5px;" href="#">我的团队(当前团队ID:{$data[1]["teamid"]})</a></h5>
                        <div class="ibox-tools">
                        </div>
                    </div>
                    <div class="ibox-content" style="height:3800px;">
                       <div class="tree">
                            <div class="tree">
                        <?php foreach($data as $v):?>
                        <?php if($v['level'] == 1):?>
                            <ul>
                                <li>
                                <a>
                                    <div class="homt" style="height: 120px;">
                                        <div class="hometname"><?php echo $v['user']['username'];?></div>
                                        <div class="hometname"><?php echo $v['user']['email']?></div>
                                        <div class="hometname">推荐人:<?php echo $v['user']['ppuser']['email']?>(<?php echo $v['user']['ppuser']['username']?>)</div>
                                        <div class="homettm"><?php echo $v['zige1']?></div>
                                        <div class="homettms"><?php echo $v['zige2']?></div>
                                        <div class="ahomettm">{$v['user']['addtime']}</div>
                                        
                                    </div>
                                </a>    
                                    <ul>
                                        <?php foreach($data as $a):?>
                                            <?php if($v['level'] == $a['level']-1 && $v['level'] == 1):?>
                                                <li>
                                                    <a>
                                                        <div class="homt" style="height: 120px;">
                                                            <div class="hometname"><?php echo $a['user']['username'];?></div>
                                                            <div class="hometname"><?php echo $a['user']['email']?></div>
                                                            <div class="hometname">推荐人:<?php echo $a['user']['ppuser']['email']?>(<?php echo $a['user']['ppuser']['username']?>)</div>
                                                            <div class="homettm"><?php echo $a['zige1']?></div>
                                                            <div class="homettms"><?php echo $a['zige2']?></div>
                                                            <div class="ahomettm">{$a['user']['addtime']}</div>
                                                        </div>
                                                    </a>
                                                    <ul>
                                                        <?php foreach($data as $b):?>
                                                            <?php if($b['nodeid'] == $a['userid']):?>
                                                                <li>
                                                                    <a>
                                                                        <div class="homt" style="height: 120px;">
                                                                            <div class="hometname"><?php echo $b['user']['username'];?></div>
                                                                            <div class="hometname"><?php echo $b['user']['email']?></div>
                                                                            <div class="hometname">推荐人:<?php echo $b['user']['ppuser']['email']?>(<?php echo $b['user']['ppuser']['username']?>)</div>
                                                                            <div class="homettm"><?php echo $b['zige1']?></div>
                                                                            <div class="homettms"><?php echo $b['zige2']?></div>
                                                                            <div class="ahomettm">{$b['user']['addtime']}</div>
                                                                        </div>
                                                                    </a>
                                                                </li>
                                                            <?php endif;?>
                                                        <?php endforeach;?>
                                                    </ul>
                                                </li>
                                            <?php endif;?>
                                        <?php endforeach;?>
                                    </ul>
                                </li>
                            </ul>
                        <?php endif;?>
                        <?php endforeach;?>



                        </div>
                       </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="/Public/Default/js/jquery.min.js?v=2.1.4"></script>
    <script src="/Public/Default/js/bootstrap.min.js?v=3.3.6"></script>
    <script src="/Public/Default/js/content.min.js?v=1.0.0"></script>
    <script src="/Public/Default/js/plugins/iCheck/icheck.min.js"></script>

<script type="text/javascript" src="/Public/Default/check/js/jquery.validate.min.js"></script> 

<script type="text/javascript" src="/Public/Default/check/js/messages_zh.min.js"></script> 



<script type="text/javascript" src="/Public/Default/check/js/validate-methods.js"></script> 



   
    <script>
        $(document).ready(function(){$(".i-checks").iCheck({checkboxClass:"icheckbox_square-green",radioClass:"iradio_square-green",})});
    </script>
    
    <script type="text/javascript">
    $(function(){
    $("#form-admin-add").validate({
        rules:{
            uUser:{
                required:true,
                minlength:2,
                maxlength:20
            },
            uName:{
                required:true,
                minlength:2,
                maxlength:8

            },
            uoPwd:{
                required:true,
                minlength:6,
                maxlength:16

            },
            uPwd:{
                required:true,
                minlength:6,
                maxlength:16

            },
            uPwd2:{
                required:true,
                equalTo: "#uPwd"
            },
            uZfPwd:{
                required:true,
                minlength:6,
                maxlength:6

            },

        },
        onkeyup:false,
        focusCleanup:true,
        success:"valid",
        submitHandler:function(form){
            $(form).ajaxSubmit();
            var index = parent.layer.getFrameIndex(window.name);
            parent.$('.btn-refresh').click();
            parent.layer.close(index);
        }
    });
});
</script> 
    
    
</body>

</html>